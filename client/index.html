<!doctype html>
<html ng-app="xyz" ng-controller="MapCtrl">
	<head>
    <title>XYZ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> 
    <!-- map script was here -->
    <link rel="stylesheet" href="//code.ionicframework.com/ionicons/1.5.2/css/ionicons.min.css">
    <!-- foundation was here -->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/foundation.css">
    <link rel="stylesheet" href="css/foundation-icons.css">
    <link rel="stylesheet" href="css/ng-quick-date-plus-default-theme.css">
    <link rel="stylesheet" href="css/custom.css">
    <!-- <link rel="stylesheet" href="css/styles.min.css"> -->
	</head>
  <body>
    <div style='z-index:10' ng-controller="NavbarCtrl">

      <top-bar id="nav-container" class="fixed">

        <ul class="title-area">
          <li class="name">
            <a href="#"><h1 class = "topbar-title">xyz</h1></a>
          </li>
          <li style="display:inline-block"> <span id="social" class="hide-for-small-only">...for the social explorer</span></li>
          <li toggle-top-bar><a href="">Search</a></li>
        </ul>
        <div class="collapse">
          <section class="top-bar-section">
            <ul>
              <!-- Left Nav Section -->
              <li class="has-form left">
                <div id="pac-nest">
                  <span id="search-box" class="left">
                  </span>
                  <span class="icon-holder">
                    <i class="fi fi-widget"
                       tooltip="Search Settings"
                       tooltip-animation="false"
                       tooltip-placement="bottom"
                       ng-click="openSettings()"></i>
                  </span>
                  <span class="icon-holder">
                    <i class="fi fi-refresh"
                       ng-click="goForthAndSearch(map.center.latitude,map.center.longitude)"
                       tooltip-placement="bottom"
                       tooltip-popup-delay="0"
                       tooltip-animation="false"
                       tooltip="Search Center of Map"></i>
                  </span>
                  <span class="icon-holder">
                   <a href="http://www.instagram.com" target="_blank"><span class= "fi fi-social-instagram" tooltip-animation="false" tooltip-placement="bottom" tooltip="Log in to Instagram"></span></a>
                 </span>
                  <!-- possibly add more buttons for red/green circles' toggle -->
                </div>
              </li>
              <!-- Right Nav Section -->
              <li class = "has-form right">          
                <!-- <a href=""><span class= "fi fi-social-instagram" tooltip-animation="false" tooltip-placement="bottom" tooltip="Log in to Instagram"></span></a> -->
              </li>
            </ul>
          </section>
        </div>
        <div id="tag-partial" style="z-index:1" class="large-12 small-12 columns">
          <div class="scrollingtext">

          </div>
        </div>

        <!-- Search Settings modal -->
        <div id="search-settings" class="reveal-modal medium">
          <a class="close-reveal-modal">&#215;</a>
          <!-- inputs for min_timestamp, max_timestamp, distance go here -->
          <label>Search for photos uploaded after</label>
          <input type="datetime-local" x-ng-model="searchOptions.minTime">
          <label>and before</label>
          <input type="datetime-local" x-ng-model="searchOptions.maxTime">
          <input type="text" x-ng-model='searchOptions.distance' placeholder="Radius (meters)">
          <input type="text" x-ng-model="searchOptions.maxResults" placeholder="Max Results (default 100)">
        </div>
      </top-bar>
    </div>
    <!-- <div ng-controller="TagsCtrl"> -->
      <!-- tags partial goes here -->
    <!-- </div> -->
    <div style="height:100%">
          <script type="text/ng-template" id="searchbox.tpl.html">

            <input type="text" placeholder="Location Search" class="controls" id="pac-input">
          </script>
          <script type="text/ng-template" id="xxx.html">
          <h2>Search Options</h2>
            <p>
              <label><b>Search for photos uploaded after</b></label>
              <quick-datepicker ng-model='searchOptions.minTime'></quick-datepicker>
            </p>
            <p>
              <label><b>and before</b></label>
              <quick-datepicker ng-model="searchOptions.maxTime"></quick-datepicker>
            </p>

            <input type="text" x-ng-modal='searchOptions.distance' placeholder="Radius (meters)">
            <input type="text" x-ng-modal='searchOptions.maxResults' placeholder="Max Results (default 100)">
            <a class="close-reveal-modal" ng-click="close()">&#215;</a>
          </script>
          <script type="text/ng-template" id="post-detail.html">
            <a href="{{currentPost.post.link}}" target="_blank"><img src="{{currentPost.post.mediaLarge}}"></a>
            <a class="close-reveal-modal" ng-click='close()'>&#215;</a>
          </script>

      <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="true" control="map.control" options="options" styles="map.styles">
        <ui-gmap-search-box parentdiv="'search-box'"template="searchbox.template" events="searchbox.events"></ui-gmap-search-box>
        <!--<ui-gmap-circle ng-repeat="c in circles track by c.id" center="map.center" stroke="c.stroke" fill="c.fill" radius="c.radius" visible="c.visible" geodesic="c.geodesic" editable="c.editable" draggable="c.draggable" clickable="c.clickable">
        </ui-gmap-circle>-->
        <ui-gmap-markers models="posts" coords="'self'" icon="'icon'" idKey="'idKey'" click="'click'">
          
        </ui-gmap-markers>
        <ui-gmap-window
            coords="currentPost.coords"
            templateUrl="'templates/info-window.html'"
            templateParameter="currentPost"
            closeClick="infoWindow.closeClick"
            options='infoWindow.options'
            show = 'showWindow'
            >
        </ui-gmap-window>
      </ui-gmap-google-map>
    </div>
    <script src="vendor/angular.js"></script>
    <script src="//pineconellc.github.io/angular-foundation/mm-foundation-tpls-0.5.1.js"></script>
		<script src="vendor/angular-route.js"></script>
		<script src="vendor/angular-messages.js"></script>
		<script src="vendor/satellizer.js"></script>
    <script src='//maps.googleapis.com/maps/api/js?sensor=false&libraries=geometry,places'></script>
    <script src="vendor/lodash.js"></script>
    <script src="vendor/angular-google-maps.min.js"></script>
    <script src="vendor/resource.js"></script>
    <script src="vendor/ng-quick-date.js"></script>
    <script src="app.js"></script>
    <script src="services/searchOptions.js"></script>
    <script src="services/search.js"></script>
    <script src="controllers/map.js"></script>
    <script src="controllers/navbar.js"></script>
    <script src="controllers/post-detail.js"></script>
	</body>
</html>
